<%- layout("layouts/boilerplate") %>

<div class="container mt-5 mb-5">
  <div class="mx-auto p-4 p-md-5 shadow-lg bg-white rounded-4" style="max-width: 600px;">
    <h2 class="mb-4 text-center text-primary fw-bold">✏️ Edit Listing</h2>

  <form class="needs-validation" novalidate method="POST" action="/listings/<%= listing._id %>?_method=PUT">
    
    <!-- Title -->
    <div class="mb-3">
      <label for="title" class="form-label fw-semibold">Title</label>
      <input type="text" class="form-control" id="title" name="title" value="<%= listing.title %>" placeholder="Enter listing title" required />
      <div class="invalid-feedback">Please enter a title.</div>
    </div>

    <!-- Description -->
    <div class="mb-3">
      <label for="description" class="form-label fw-semibold">Description</label>
      <textarea class="form-control" id="description" name="description" rows="3" placeholder="Enter listing description" required ><%= listing.description %></textarea>
      <div class="invalid-feedback">Please enter a description.</div>
    </div>

    <!-- Image URL -->
    <div class="mb-3">
      <label for="image" class="form-label fw-semibold">Image URL</label>
      <input type="url" class="form-control" id="image" name="image" value="<%= listing.image %>" placeholder="Enter image URL" required />
      <div class="invalid-feedback">Please provide a valid image URL.</div>
    </div>

    <!-- Price -->
    <div class="mb-3">
      <label for="price" class="form-label fw-semibold">Price</label>
      <input type="number" class="form-control" id="price" name="price" value="<%= listing.price %>" placeholder="Enter price" required />
      <div class="invalid-feedback">Please enter a valid price.</div>
    </div>

    <!-- Location -->
    <div class="mb-3">
      <label for="location" class="form-label fw-semibold">Location</label>
      <input type="text" class="form-control" id="location" name="location" value="<%= listing.location %>" placeholder="Enter location" required />
      <div class="invalid-feedback">Please enter a location.</div>
    </div>

    <!-- Country -->
    <div class="mb-4">
      <label for="country" class="form-label fw-semibold">Country</label>
      <input type="text" class="form-control" id="country" name="country" value="<%= listing.country %>" placeholder="Enter country" required />
      <div class="invalid-feedback">Please enter a country.</div>
    </div>

    <!-- Buttons -->
    <div class="d-flex justify-content-between">
      <button type="submit" class="btn btn-primary px-4">Update Listing</button>
      <a href="/listings/<%= listing._id %>" class="btn btn-outline-secondary">
        ← Back
      </a>
    </div>
  </form>
</div>